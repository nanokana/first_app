<?xml version="1.0" encoding="EUC-JP" ?>
<!DOCTYPE html 
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>ENV</title>
<meta http-equiv="Content-type" content="text/html; charset=EUC-JP" />
<link href="default.css" type="text/css" rel="stylesheet" />
<link href="refm034.html" rel="next" />
<link href="refm032.html" rel="prev" />
<link href="index.html" rel="start" />

</head>
<body>
<div class="navigator"><span class="navigator">[<a href="index.html">MAIN</a>][<a href="refm539.html">INDEX</a>]&nbsp;&nbsp;&nbsp;[<a href="index.html">TOP</a>][<a href="refm031.html">UP</a>][<a href="refm032.html">&lt;-PREV</a>][<a href="refm034.html">NEXT-&gt;</a>]</span></div>
<hr />

<h1><a name="L000594" id="L000594">ENV</a></h1>
<p>環境変数を表すオブジェクト。<a href="refm044.html">Hash</a> と同様のインターフェースを持ち
ます。ただし、<code>Hash</code> と異なり、<code>ENV</code> のキーと値には文字列しか
とることができません。</p>
<p><code>ENV</code> で得られる文字列は <code>ENV['PATH']</code> を除いて汚染されていま
す。(オブジェクトの汚染に関しては<a href="refm018.html">セキュリティモデル</a>を参照のこと)
<code>ENV['PATH']</code> はその要素が誰でも書き込み可能なディレクトリを含ん
でいる場合に限り汚染されます。</p>
<pre>p ENV['TERM'].tainted?
# =&gt; true
p path = ENV['PATH']
# =&gt; &quot;/usr/local/bin:/usr/bin:/bin:/usr/X11/bin&quot;
p path.tainted?
# =&gt; false</pre>
<p><a href="refm385.html">ruby 1.8 feature</a>:
また、<code>ENV</code> で得られる文字列は <a href="refm035.html#L000658">freeze</a> されています。</p>
<pre>p ENV['TERM'].frozen?
# =&gt; true</pre>
<h2><a name="L000595" id="L000595">インクルードされているモジュール:</a></h2>
<ul>
<li><a href="refm070.html">Enumerable</a></li>
</ul>
<h2><a name="L000596" id="L000596">メソッド:</a></h2>
<dl>
<dt><a name="L000597" id="L000597"><code>ENV[key]</code></a></dt>
<dd>
<p><var>key</var> に対応する環境変数の値を返します。該当する環境変数が存在
しない時には <code>nil</code> を返します。</p></dd>
<dt><a name="L000598" id="L000598"><code>ENV[key]=value</code></a>
<dt><a name="L000599" id="L000599"><code>ENV.store(<var>key</var>, <var>value</var>)</code></a></dt>
<dd>
<p><var>key</var> に対応する環境変数の値を <var>value</var> にします。
<var>value</var> が <code>nil</code> の時、<var>key</var> に対応する環境変数を取り
除きます。</p></dd>
<dt><a name="L000600" id="L000600"><code>ENV.clear</code></a></dt>
<dd>
<p><a href="refm385.html">ruby 1.8 feature</a></p>
<p>環境変数をすべてクリアします。<code>self</code> を返します。</p></dd>
<dt><a name="L000601" id="L000601"><code>ENV.delete(<var>key</var>)</code></a>
<dt><a name="L000602" id="L000602"><code>ENV.delete(<var>key</var>) {|<var>key</var>| ... }</code></a></dt>
<dd>
<p><var>key</var> に対応する環境変数を取り除きます。取り除かれた環境変数の
値を返 しますが、<var>key</var> に対応する環境変数が存在しない時には 
<code>nil</code> を返します。</p>
<p>ブロックが与えられた時には <var>key</var> にマッチするものがなかった時
に評価されます。</p></dd>
<dt><a name="L000603" id="L000603"><code>ENV.reject{|<var>key</var>, <var>value</var>| ... }</code></a></dt>
<dd>
<p>ブロックを評価した値が真である時、要素を削除します。
<a href="refm070.html#L001766">Enumerable#reject</a> と異なり <code>Hash</code> を返
します。</p></dd>
<dt><a name="L000604" id="L000604"><code>ENV.delete_if {|<var>key</var>, <var>value</var>| ... }</code></a>
<dt><a name="L000605" id="L000605"><code>ENV.reject!{|<var>key</var>, <var>value</var>| ... }</code></a></dt>
<dd>
<p><var>key</var> と <var>value</var> を引数としてブロックを評価した値が真であ
る時、環境変数を削除します。</p>
<p><code>reject!</code> は要素に変化がなければ <code>nil</code> を返します。</p></dd>
<dt><a name="L000606" id="L000606"><code>ENV.each {|<var>key</var>, <var>value</var>| ... }</code></a>
<dt><a name="L000607" id="L000607"><code>ENV.each_pair {|<var>key</var>, <var>value</var>| ... }</code></a></dt>
<dd>
<p><var>key</var> と <var>value</var> を引数としてブロックを評価します。</p></dd>
<dt><a name="L000608" id="L000608"><code>ENV.each_key {|<var>key</var>| ... }</code></a></dt>
<dd>
<p><var>key</var> を引数としてブロックを評価します。</p></dd>
<dt><a name="L000609" id="L000609"><code>ENV.each_value {|<var>value</var>| ... }</code></a></dt>
<dd>
<p><var>value</var> を引数としてブロックを評価します。</p></dd>
<dt><a name="L000610" id="L000610"><code>ENV.empty?</code></a></dt>
<dd>
<p>環境変数がひとつも定義されていない時真を返します。</p></dd>
<dt><a name="L000611" id="L000611"><code>ENV.fetch(<var>key</var>,[<var>default</var>])</code></a>
<dt><a name="L000612" id="L000612"><code>ENV.fetch(<var>key</var>) {|<var>key</var>| ... }</code></a></dt>
<dd>
<p><var>key</var> に関連づけられた値を返します。該当するキーが登録されてい
ない時には、引数 <var>default</var> が与えられていればその値を、ブロッ
クが与えられていればそのブロックを評価した値を返します。そのいずれ
でもなければ例外 <a href="refm095.html">IndexError</a> が発生します。</p></dd>
<dt><a name="L000613" id="L000613"><code>ENV.has_key?(<var>val</var>)</code></a>
<dt><a name="L000614" id="L000614"><code>ENV.include?(<var>val</var>)</code></a>
<dt><a name="L000615" id="L000615"><code>ENV.key?(<var>val</var>)</code></a>
<dt><a name="L000616" id="L000616"><code>ENV.member?(<var>val</var>)</code></a></dt>
<dd>
<p><var>val</var> で指定される環境変数が存在する時真を返します。</p></dd>
<dt><a name="L000617" id="L000617"><code>ENV.has_value?(<var>value</var>)</code></a>
<dt><a name="L000618" id="L000618"><code>ENV.value?(<var>value</var>)</code></a></dt>
<dd>
<p><var>value</var> を値として持つ環境変数が存在する時真を返します。</p></dd>
<dt><a name="L000619" id="L000619"><code>ENV.index(<var>val</var>)</code></a>
<dt><a name="L000620" id="L000620"><code>ENV.key(<var>val</var>)      ((&lt;<var>ruby</var> <var>1</var>.<var>9</var> <var>feature</var>&gt;))</code></a></dt>
<dd>
<p><var>val</var> に対応するキーを返します。対応する要素が存在しない時には 
<code>nil</code> を返します。</p>
<p><a href="refm392.html#L008996">ruby 1.9 feature</a>:
ENV.index は version 1.9 では、<a href="refm393.html">obsolete</a> です。
使用すると警告メッセージが表示されます。</p></dd>
<dt><a name="L000621" id="L000621"><code>ENV.indexes(<var>key_1</var>, ... , <var>key_n</var>)     ((&lt;<var>obsolete</var>&gt;))</code></a>
<dt><a name="L000622" id="L000622"><code>ENV.indices(<var>key_1</var>, ... , <var>key_n</var>)     ((&lt;<var>obsolete</var>&gt;))</code></a></dt>
<dd>
<p>引数で指定された名前の環境変数の値の配列を返します。</p>
<p><a href="refm385.html">ruby 1.8 feature</a>:
このメソッドは version 1.8 では、<a href="refm393.html">obsolete</a> です。
使用すると警告メッセージが表示されます。
代わりに <a href="#L000634">ENV.values_at</a> を使用します。</p></dd>
<dt><a name="L000623" id="L000623"><code>ENV.invert</code></a></dt>
<dd>
<p><a href="refm385.html">ruby 1.8 feature</a></p>
<p>環境変数の値をキー、名前を値とした <a href="refm044.html">Hash</a> を生成して返します。</p></dd>
<dt><a name="L000624" id="L000624"><code>ENV.keys</code></a></dt>
<dd>
<p>全環境変数の名前の配列を返します。</p></dd>
<dt><a name="L000625" id="L000625"><code>ENV.length</code></a>
<dt><a name="L000626" id="L000626"><code>ENV.size</code></a></dt>
<dd>
<p>環境変数の数を返します。</p></dd>
<dt><a name="L000627" id="L000627"><code>ENV.rehash</code></a></dt>
<dd>
<p>何もしません。nilを返します。</p></dd>
<dt><a name="L000628" id="L000628"><code>ENV.replace(<var>hash</var>)</code></a></dt>
<dd>
<p><a href="refm385.html">ruby 1.8 feature</a></p>
<p>環境変数を <var>hash</var> に設定します。<code>self</code> を返します。</p></dd>
<dt><a name="L000629" id="L000629"><code>ENV.shift</code></a></dt>
<dd>
<p><a href="refm385.html">ruby 1.8 feature</a></p>
<p>環境変数を一つ取り除いて、それを名前と値の組の配列で返します。
環境変数が一つも設定されていなければ nil を返します。</p></dd>
<dt><a name="L000630" id="L000630"><code>ENV.to_a</code></a></dt>
<dd>
<p>環境変数から <code>[key,value]</code> なる 2 要素の配列の配列を生成します。</p></dd>
<dt><a name="L000631" id="L000631"><code>ENV.to_hash</code></a></dt>
<dd>
<p>環境変数の名前と値のハッシュを返します。</p></dd>
<dt><a name="L000632" id="L000632"><code>ENV.update(<var>other</var>)</code></a></dt>
<dd>
<p><a href="refm385.html">ruby 1.8 feature</a></p>
<p>ハッシュ <var>other</var> の内容を環境変数にマージします。重複するキー
に対応する値は other の内容で上書きされます。</p>
<p><code>self</code> を返します。</p></dd>
<dt><a name="L000633" id="L000633"><code>ENV.values</code></a></dt>
<dd>
<p>環境変数の全値の配列を返します。</p></dd>
<dt><a name="L000634" id="L000634"><code>ENV.values_at(<var>key_1</var>, ..., <var>key_n</var>)</code></a></dt>
<dd>
<p><a href="refm385.html">ruby 1.8 feature</a></p>
<p>引数で指定されたキー(環境変数名)に対応する値の配列を返します。存在
しないキーに対しては nil が対応します。<a href="#L000621">ENV.indexes</a> と 
<a href="#L000622">ENV.indices</a> と同じです。</p>
<pre>ENV.update({'FOO','foo', 'BAR','bar'})
p ENV.values_at(*%w[FOO BAR BAZ])   # =&gt; [&quot;foo&quot;, &quot;bar&quot;, nil]</pre></dd>
</dl>

<hr />
<div class="navigator"><span class="navigator">[<a href="index.html">MAIN</a>][<a href="refm539.html">INDEX</a>]&nbsp;&nbsp;&nbsp;[<a href="index.html">TOP</a>][<a href="refm031.html">UP</a>][<a href="refm032.html">&lt;-PREV</a>][<a href="refm034.html">NEXT-&gt;</a>]</span></div>

</body>
</html>
