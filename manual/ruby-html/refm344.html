<?xml version="1.0" encoding="EUC-JP" ?>
<!DOCTYPE html 
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>rbconfig</title>
<meta http-equiv="Content-type" content="text/html; charset=EUC-JP" />
<link href="default.css" type="text/css" rel="stylesheet" />
<link href="refm345.html" rel="next" />
<link href="refm343.html" rel="prev" />
<link href="index.html" rel="start" />

</head>
<body>
<div class="navigator"><span class="navigator">[<a href="index.html">MAIN</a>][<a href="refm539.html">INDEX</a>]&nbsp;&nbsp;&nbsp;[<a href="index.html">TOP</a>][<a href="refm115.html">UP</a>][<a href="refm343.html">&lt;-PREV</a>][<a href="refm345.html">NEXT-&gt;</a>]</span></div>
<hr />

<h1><a name="L006618" id="L006618">rbconfig</a></h1>
<p><a href="refm002.html">執筆者募集</a></p>
<p>Ruby インタプリタ作成時に設定された情報を格納したライブラリです。
Config モジュールを定義します。</p>
<p><a href="refm391.html">ruby 1.8.5 feature</a>: RbConfig モジュールを Config と同じものとして定義します。</p>
<h2><a name="L006619" id="L006619">使いかた</a></h2>
<pre>require 'rbconfig'</pre>
<h2><a name="L006620" id="L006620">モジュールメソッド:</a></h2>
<dl>
<dt><a name="L006621" id="L006621"><code>Config.expand(<var>val</var>)</code></a>
<dt><a name="L006622" id="L006622"><code>RbConfig.expand(<var>val</var>)        ((&lt;<var>ruby</var> <var>1</var>.<var>8</var>.<var>5</var> <var>feature</var>&gt;))</code></a></dt>
<dd>
<p><a href="#L006627">MAKEFILE_CONFIG</a> 参照</p></dd>
</dl>
<h2><a name="L006623" id="L006623">定数</a></h2>
<dl>
<dt><a name="L006624" id="L006624"><code>DESTDIR</code></a>
<dt><a name="L006625" id="L006625"><code>TOPDIR</code></a>
<dt><a name="L006626" id="L006626"><code>CONFIG</code></a></dt>
<dd>
<p>設定値を格納したハッシュです。以下のキーと値を持ちます。</p>
<dl>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">srcdir</a></dt>
<dd>
<p>Ruby をコンパイルしたソースディレクトリ</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">prefix</a></dt>
<dd>
<p>Ruby のインストール先の基準ディレクトリ</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">ruby_install_name</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">RUBY_INSTALL_NAME</a></dt>
<dd>
<p>ruby インタプリタのファイル名</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">EXEEXT</a></dt>
<dd>
<p>実行ファイルの拡張子</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">SHELL</a></dt>
<dd>
<p>シェルのパス名</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">CFLAGS</a></dt>
<dd>
<p>C コンパイラのオプション</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">CPPFLAGS</a></dt>
<dd>
<p>C プリプロセッサのオプション</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">CXXFLAGS</a></dt>
<dd>
<p>C++ コンパイラのオプション</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">FFLAGS</a></dt>
<dd>
<p>Fortran コンパイラのオプション</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">LDFLAGS</a></dt>
<dd>
<p>リンカオプション</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">LIBS</a></dt>
<dd>
<p>ライブラリ</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">exec_prefix</a></dt>
<dd>
<p>アーキテクチャ依存の実行ファイルのインストール先ディレクトリ</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">bindir</a></dt>
<dd>
<p>実行ファイルのインストール先ディレクトリ</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">sbindir</a></dt>
<dd>
<p>管理者用実行ファイルのインストール先ディレクトリ</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">libexecdir</a></dt>
<dd>
<p>他のプログラムから実行される実行ファイルのインストール先ディレクトリ</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">datadir</a></dt>
<dd>
<p>アーキテクチャに依存しないデータのインストール先ディレクトリ</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">sysconfdir</a></dt>
<dd>
<p>設定ファイルのインストール先ディレクトリ</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">sharedstatedir</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">localstatedir</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">libdir</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">includedir</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">oldincludedir</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">infodir</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">mandir</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">MAJOR</a></dt>
<dd>
<p>Ruby の major バージョン番号(1.6.5の1)</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">MINOR</a></dt>
<dd>
<p>Ruby の minor バージョン番号(1.6.5の6)</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">TEENY</a></dt>
<dd>
<p>Ruby の teeny バージョン番号(1.6.5の5)</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">host</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">host_alias</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">host_cpu</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">host_vendor</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">host_os</a></dt>
<dd>
<p>実行するシステムの情報
(?)</p>
<pre>例:
C:\&gt;ruby -v -r rbconfig -e &quot;p Config::CONFIG['host']&quot;
ruby 1.8.1 (2003-12-25) [i386-cygwin]
&quot;i686-pc-cygwin&quot;</pre>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">target</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">target_alias</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">target_cpu</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">target_vendor</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">target_os</a></dt>
<dd>
<p>生成されたコードを実行するシステムの情報</p>
<pre>例:
C:\&gt;ruby -v -r rbconfig -e &quot;p Config::CONFIG['target']&quot;
ruby 1.8.1 (2003-12-25) [i386-cygwin]
&quot;i386-pc-cygwin&quot;</pre>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">build</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">build_alias</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">build_cpu</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">build_vendor</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">build_os</a></dt>
<dd>
<p>ビルドしたシステムの情報</p>
<pre>例:
C:\&gt;ruby -vrrbconfig -e &quot;p Config::CONFIG['build']&quot;
ruby 1.8.1 (2003-12-25) [i386-cygwin]
&quot;i586-pc-linux-gnu&quot;</pre>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">CC</a></dt>
<dd>
<p>ビルドに使われた C コンパイラ</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">CPP</a></dt>
<dd>
<p>ビルドに使われた C プリプロセッサ</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">YACC</a></dt>
<dd>
<p>ビルドに使われた コンパイラコンパイラ</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">RANLIB</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">AR</a></dt>
<dd>
<p>ビルドに使われたライブラリアン</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">NM</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">DLLWRAP</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">AS</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">DLLTOOL</a></dt>
<dd>
<p>ビルドに使われたライブラリ操作コマンド
(?)</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">WINDRES</a></dt>
<dd>
<p>Windows のリソース操作コマンド</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">LN_S</a></dt>
<dd>
<p>シンボリックリンク作成コマンド</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">SET_MAKE</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">OBJEXT</a></dt>
<dd>
<p>オブジェクトファイル(コンパイルだけされてリンク前のファイル)の拡張子</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">LIBOBJS</a></dt>
<dd>
<p>ruby本体にリンクされているオブジェクトファイル
(?)</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">ALLOCA</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">XLDFLAGS</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">DLDFLAGS</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">STATIC</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">CCDLFLAGS</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">LDSHARED</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">DLEXT</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">DLEXT2</a></dt>
<dd>
<p>ダイナミックリンクライブラリの拡張子</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">STRIP</a></dt>
<dd>
<p>オブジェクトファイルからシンボルを切り捨てるコマンド</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">EXTSTATIC</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">setup</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">MINIRUBY</a></dt>
<dd>
<p>ビルド途中に作成される機能限定版rubyのcompile_dirからの相対パス</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">PREP</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">LIBRUBY_LDSHARED</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">LIBRUBY_DLDFLAGS</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">RUBY_SO_NAME</a></dt>
<dd>
<p>ruby共有ライブラリの名前</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">LIBRUBY_A</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">LIBRUBY_SO</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">LIBRUBY_ALIASES</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">LIBRUBY</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">LIBRUBYARG</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">SOLIBS</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">DLDLIBS</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">ENABLE_SHARED</a></dt>
<dd>
<p>configureで--enable-sharedだったかどうか(値は&quot;yes&quot;または&quot;no&quot;)</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">MAINLIBS</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">arch</a></dt>
<dd>
<p>実行対象となるアーキテクチャ。RUBY_PLATFORMと同じ。</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">sitearch <a href="refm384.html">ruby 1.7 feature</a></a></dt>
<dd>
<p>サイトごとの拡張ライブラリインストール時にarchの代わりに利用される値。
通常はarchと同じになるが、特定のプラットフォーム(mswin32・mingw32)では
異なる。
拡張ライブラリにバイナリ互換性があるarch間で、拡張ライブラリを共有する
ために用いられる。</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">sitedir</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">configure_args</a></dt>
<dd>
<p>ビルド時のconfigureの引数。</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">ruby_version</a></dt>
<dd>
<p>rubyのバージョン(例:&quot;1.6&quot;)</p>
</dd>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">rubylibdir</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">archdir</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">sitelibdir</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">sitearchdir</a></dt>
<dt><a name="XXINVALIDXX" id="XXINVALIDXX">compile_dir</a></dt>
<dd>
<p>ビルド時の作業ディレクトリ。</p>
</dd>
</dl></dd>
<dt><a name="L006627" id="L006627"><code>MAKEFILE_CONFIG</code></a></dt>
<dd>
<p><a href="#L006626">CONFIG</a> と同じですが、その値は以下のような形
で他の変数への参照を含みます。</p>
<pre>MAKEFILE_CONFIG[&quot;bindir&quot;] = &quot;$(exec_prefix)/bin&quot;</pre>
<p>これは、Makefile の変数参照の形式で MAKEFILE_CONFIG は、
Makefile 作成の際に利用されることを想定しています。</p>
<pre>require 'rbconfig'

print &lt;&lt;-END_OF_MAKEFILE
prefix = #{Config::MAKEFILE_CONFIG['prefix']}
exec_prefix = #{Config::MAKEFILE_CONFIG['exec_prefix']}
bindir = #{Config::MAKEFILE_CONFIG['bindir']}
END_OF_MAKEFILE

=&gt; prefix = /usr/local
   exec_prefix = $(prefix)
   bindir = $(exec_prefix)/bin</pre>
<p><a href="#L006621">Config.expand</a> は、このような参照を解決する
メソッドとして rbconfig 内部で利用されています。
(CONFIG 変数は、MAKEFILE_CONFIG の内容から 
<a href="#L006621">Config.expand</a> を使って生成されています)</p>
<pre>require 'rbconfig'
p Config.expand(Config::MAKEFILE_CONFIG[&quot;bindir&quot;])
# =&gt; &quot;/usr/local/bin&quot;</pre></dd>
</dl>

<hr />
<div class="navigator"><span class="navigator">[<a href="index.html">MAIN</a>][<a href="refm539.html">INDEX</a>]&nbsp;&nbsp;&nbsp;[<a href="index.html">TOP</a>][<a href="refm115.html">UP</a>][<a href="refm343.html">&lt;-PREV</a>][<a href="refm345.html">NEXT-&gt;</a>]</span></div>

</body>
</html>
